<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<title>Test 1</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="js/jquery.min.js"></script>

<script src="js/gibberish.min.js"></script>
<script src="ScheddVM.js"></script>
</head>
<body>

	<h1>ScheddVM test1</h1>

  <h2>Implemented commands:</h2>
  <pre id="commands"></pre>

	<h2>Test script</h2>

	<pre id="test1">
[4, "@repeat", ["@kick", "@fork", [0.5, "@wait", "@snare"], 1, "@wait"]]
	</pre>
	<button class="init" id="test1-btn" data-test="test1">Run</button>
<script>

const audio = new ScheddVM.Audio(Gibberish)

$('#commands').text(JSON.stringify(Object.keys(ScheddVM.defaultOperator.commands)))

$('button').click(() => {
	const data = JSON.parse($('#test1').text().trim())
	audio.start(data)
})


const PROG1 = [4, '@repeat', [
  'one', '@print', 1, '@wait',
  'two', '@print', 1, '@wait'
]]

const PROG2 = [
  4, '@repeat', [
    'kick', '@print',
    '@kick',
    '@fork', [
      0.5, '@wait',
      'snare', '@print',
      '@snare'
    ],
    1, '@wait'
  ]
]


</script>

</body>
</html>
